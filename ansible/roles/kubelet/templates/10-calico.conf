{
    "name": "k8s-pod-network",
    "type": "calico",
    "etcd_endpoints": "{{ etcd_networking_cluster_ip_list }}",
    "etcd_cert_file": "{{ kubernetes_certificates.etcd_client }}",
    "etcd_key_file": "{{ kubernetes_certificates.etcd_client_key }}",
    "etcd_ca_cert_file": "{{ kubernetes_certificates.ca }}",
    "log_level": "info",
    "ipam": {
        "type": "calico-ipam"
    },
{% if enable_calico_policy is defined and enable_calico_policy|bool == true %}
    "policy": {
      "type": "k8s"
    },
{% endif %}
    "kubernetes": {
        "k8s_api_root": "{% if 'master' in group_names %}{{ local_kubernetes_master_ip }}{% else %}{{ kubernetes_master_ip }}{% endif %}"
    }
}
